(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[585],{1247:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r=n(6787),i=n(7294),l=n(7163),c=n.n(l),o=(n(4388),n(7311)),a=n.n(o),s=n(5893),d=function(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:a().wrap,children:e.children})})},u=n(3393),h=n.n(u),v=n(8625),x=n.n(v),p=function(e){return(0,s.jsx)("section",{className:x().wrepper,children:e.children})},f=n(8216),m=n(5359);var w=n(1693),j=n.n(w),z=n(4997),g=n.n(z);function H(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z"})]})})}function k(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"})]})})}var _=function(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("g",{children:(0,s.jsx)("rect",{fill:"none",height:"24",width:"24"})}),(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"})})]})})},S=function(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"})]})})};function T(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"})]})})}function y(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"})]})})}function N(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"})]})})}function C(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"})]})})}function M(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"})]})})}function b(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("g",{children:(0,s.jsx)("rect",{fill:"none",height:"24",width:"24"})}),(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M9,18h12v-2H9V18z M3,6v2h18V6H3z M9,13h12v-2H9V13z"})})]})})}var E=n(885),R=n(7666),B=n(4347),V=n(6446),O=n(4292);function L(e){var t=i.useState(""),n=(0,E.Z)(t,2),r=n[0],l=n[1];return(0,s.jsx)("div",{children:(0,s.jsxs)(V.Z,{sx:{m:1,minWidth:e.minWidth},children:[(0,s.jsx)(R.Z,{id:"demo-simple-select-autowidth-label",children:e.title}),(0,s.jsxs)(O.Z,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:r,onChange:function(t){e.commandStyle(t.target.value),l(t.target.value)},autoWidth:!0,label:"Age",children:[(0,s.jsx)(B.Z,{value:"unstyled",children:(0,s.jsx)("em",{children:"\u0441\u0431\u0440\u043e\u0441"})}),e.item.map((function(e,t){return(0,s.jsx)(B.Z,{value:e.value,children:e.content},t)}))]})]})})}var W=n(2642);function I(e){return(0,s.jsx)("div",{onClick:function(){return e.clickHandler()},className:g().wrepper,children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,s.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"})]})})}var A=n(1163);var D=function(e){var t=(0,i.useRef)(null),n=function(e,t){var n=(0,i.useState)(!1),r=n[0],o=n[1],u=(0,i.useState)(""),v=u[0],x=u[1],w=(0,i.useState)((function(){return e&&"edit"===t?l.EditorState.createWithContent((0,l.convertFromRaw)(e)):l.EditorState.createEmpty()})),j=w[0],z=w[1],g=(0,i.useState)(a().two),H=g[0],k=g[1],_=(0,f.I0)();function S(e){z(e)}var T=h().Map({table:{element:"div",wrapper:(0,s.jsx)(d,{})},row:{element:"div"},paragraph:{element:"div",wrapper:(0,s.jsx)(p,{})}}),y=c().DefaultDraftBlockRenderMap.merge(T);return{renderClient:r,setRenderClient:o,editorState:j,setEditorState:z,handleKeyCommand:function(e,t){var n=l.RichUtils.handleKeyCommand(t,e);return n?(z(n),"handled"):"not-handled"},commandStyle:function(e){return function(t){S(l.RichUtils.toggleInlineStyle(e,t))}}(j),onChange:S,customInlineStyle:{BOLD:{fontWeight:"bold"},ITALIC:{fontStyle:"italic"},UNDERLINE:{textDecoration:"underline"},LINE_THROUGH:{textDecoration:"line-through"},FONT_ROBOTO:{fontFamily:"'Roboto', sans-serif"},size8:{fontSize:"8px"},size9:{fontSize:"9px"},size10:{fontSize:"10px"},size11:{fontSize:"11px"},size12:{fontSize:"12px"},size14:{fontSize:"14px"},size16:{fontSize:"16px"},size18:{fontSize:"18px"},size20:{fontSize:"20px"},size22:{fontSize:"22px"},size24:{fontSize:"24px"},size26:{fontSize:"26px"},size28:{fontSize:"28px"},size36:{fontSize:"36px"},size48:{fontSize:"48px"},size72:{fontSize:"72px"},Black:{color:"black"},Red:{color:"red"},Grey:{color:"grey"},LightLue:{color:"blue"},DarkBlue:{color:"navy"},Green:{color:"green"},Yellow:{color:"yellow"},Pink:{color:"fuchsia"},Orange:{color:"#ffa500"},TEXT_LEFT:{display:"flex",justifyContent:"flex-start"},TEXT_CENTER:{display:"flex",justifyContent:"center"},TEXT_RIGHT:{display:"flex",justifyContent:"flex-end"}},commandBlockStyle:function(e){return function(t){"table"===t&&(0,m.gv)(_,v),S(l.RichUtils.toggleBlockType(e,t))}}(j),extendedBlockRenderMap:y,myBlockStyleFn:function(e){var t=e.getType();return"row"===t?a().row.toString():"table"===t?H:""},tableSelection:function(e){switch(x(e),e){case"2":k(a().two);break;case"3":k(a().three);break;case"4":k(a().four);break;case"5":k(a().five);break;case"6":k(a().six)}}}}(e.startState,e.editorStatus),r=n.renderClient,o=n.setRenderClient,u=n.editorState,v=n.commandBlockStyle,x=n.handleKeyCommand,w=n.commandStyle,z=n.onChange,g=n.customInlineStyle,E=n.extendedBlockRenderMap,R=n.myBlockStyleFn,B=n.tableSelection,V=u.getCurrentContent();(0,i.useEffect)((function(){o(!0)}),[]);var O=(0,f.v9)((function(e){return{dirName:e.textReducer.dirName,tableCells:e.textReducer.tableCells,editorStatus:e.textReducer.editorStatus,id:e.textReducer._id}})),D=O.tableCells,F=O.dirName,Z=O.editorStatus,G=O.id,X=(0,f.I0)(),U=(0,A.useRouter)();return(0,s.jsx)(s.Fragment,{children:r?(0,s.jsxs)("div",{className:j().editWrapper,children:[(0,s.jsxs)("div",{className:j().toolBar,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:j().fontTitle,children:(0,s.jsx)("p",{children:"\u0428\u0440\u0438\u0444\u0442"})}),(0,s.jsxs)("div",{className:j().font,children:[(0,s.jsx)(H,{clickHandler:function(){return w("ITALIC")}}),(0,s.jsx)(k,{clickHandler:function(){return w("BOLD")}}),(0,s.jsx)(_,{clickHandler:function(){return w("UNDERLINE")}}),(0,s.jsx)(S,{clickHandler:function(){return w("LINE_THROUGH")}}),(0,s.jsx)(L,{commandStyle:w,minWidth:100,title:"\u0428\u0440\u0438\u0444\u0442",item:[{value:"FONT_ROBOTO",content:"Roboto"}]}),(0,s.jsx)(L,{commandStyle:w,minWidth:140,title:"\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430",item:[{value:"Black",content:"\u0447\u0435\u0440\u043d\u044b\u0439"},{value:"Red",content:"\u043a\u0440\u0430\u0441\u043d\u044b\u0439"},{value:"Grey",content:"\u0441\u0435\u0440\u044b\u0439"},{value:"LightLue",content:"\u0433\u043e\u043b\u0443\u0431\u043e\u0439"},{value:"DarkBlue",content:"\u0441\u0438\u043d\u0438\u0439"},{value:"Green",content:"\u0437\u0435\u043b\u0435\u043d\u044b\u0439"},{value:"Yellow",content:"\u0436\u0435\u043b\u0442\u044b\u0439"},{value:"Pink",content:"\u0440\u043e\u0437\u043e\u0432\u044b\u0439"},{value:"Orange",content:"\u043e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439"}]}),(0,s.jsx)(L,{commandStyle:w,minWidth:100,title:"\u0440\u0430\u0437\u043c\u0435\u0440",item:[{value:"size8",content:"8"},{value:"size9",content:"9"},{value:"size10",content:"10"},{value:"size11",content:"11"},{value:"size12",content:"12"},{value:"size14",content:"14"},{value:"size16",content:"16"},{value:"size18",content:"18"},{value:"size20",content:"20"},{value:"size22",content:"22"},{value:"size24",content:"24"},{value:"size26",content:"26"},{value:"size28",content:"28"},{value:"size36",content:"36"},{value:"size48",content:"48"},{value:"size72",content:"72"}]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:j().fontTitle,children:(0,s.jsx)("p",{children:"\u0410\u0431\u0437\u0430\u0446"})}),(0,s.jsxs)("div",{className:j().font,children:[(0,s.jsx)(T,{clickHandler:function(){return w("TEXT_LEFT")}}),(0,s.jsx)(y,{clickHandler:function(){return w("TEXT_CENTER")}}),(0,s.jsx)(N,{clickHandler:function(){return w("TEXT_RIGHT")}}),(0,s.jsx)(C,{clickHandler:function(){return v("unordered-list-item")}}),(0,s.jsx)(M,{clickHandler:function(){return v("ordered-list-item")}}),(0,s.jsx)(b,{clickHandler:function(){return v("paragraph")}}),(0,s.jsx)(L,{commandStyle:w,minWidth:120,title:"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b",item:[{value:"1",content:"1"},{value:"1.15",content:"1.15"},{value:"1.5",content:"1.5"},{value:"2",content:"2"},{value:"2.5",content:"2.5"},{value:"3",content:"3"}]}),(0,s.jsx)(L,{commandStyle:v,minWidth:120,title:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435",item:[{value:"header-one",content:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"},{value:"header-two",content:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:j().fontTitle,children:(0,s.jsx)("p",{children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430"})}),(0,s.jsxs)("div",{className:j().font,children:[(0,s.jsx)(L,{commandStyle:B,minWidth:120,title:"\u0441\u0442\u043e\u043b\u0431\u0446\u044b",item:[{value:"2",content:"2"},{value:"3",content:"3"},{value:"4",content:"4"},{value:"5",content:"5"},{value:"6",content:"6"}]}),(0,s.jsx)(W.Z,{variant:"outlined",onClick:function(){return v("table")},children:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c"}),(0,s.jsx)(W.Z,{sx:{margin:"0 8px 0 5px"},onClick:function(){return v("split-block")},variant:"outlined",children:"\u0432\u044b\u0445\u043e\u0434"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:j().fontTitle,children:(0,s.jsx)("p",{children:"\u041f\u0440\u043e\u0435\u043a\u0442"})}),(0,s.jsx)("div",{className:j().font,children:(0,s.jsx)(I,{clickHandler:function(){return(0,m.j8)(X,(0,l.convertToRaw)(V),D,null!==F&&void 0!==F?F:"",null!==Z&&void 0!==Z?Z:"",G,U)}})})]})]}),(0,s.jsx)("div",{className:j().editor,children:(0,s.jsx)(l.Editor,{editorState:u,blockRenderMap:E,onChange:z,editorKey:"editor",handleKeyCommand:x,ref:t,customStyleMap:g,blockStyleFn:R})})]}):null})},F=function(e){var t=(0,f.v9)((function(e){return{currentArticle:e.textReducer.currentArticle,editorStatus:e.textReducer.editorStatus}})),n=t.currentArticle,i=t.editorStatus;return(0,s.jsx)(r.Z,{children:(0,s.jsx)(D,{startState:n,editorStatus:i})})}},5359:function(e,t,n){"use strict";n.d(t,{gv:function(){return d},j8:function(){return u},Ix:function(){return v},Zo:function(){return p},Cn:function(){return f}});var r=n(5861),i=n(7757),l=n.n(i),c=n(908),o=n(8393),a=n(9350);function s(e,t){e({type:c.M.SAVE_TEXT,payload:t})}function d(e,t){e({type:c.M.TABLE_SELECT_SAVE,payload:t})}function u(e,t,n,r,i){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(l().mark((function e(t,n,i,c,d){var h,v,x,p,f,m,w,j=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=j.length>5&&void 0!==j[5]?j[5]:null,v=j.length>6?j[6]:void 0,x={categoryName:c,article:n,tableCells:i},p=function(){return"create"===d?"api/create/article":"edit"===d?"api/edit/post/".concat(h):void 0},e.prev=4,e.next=7,fetch(null!==(f=p())&&void 0!==f?f:"",{method:"POST",headers:{Authorization:null!==(m=(0,o.$o)("accessToken"))&&void 0!==m?m:"null","Content-Type":"application/json"},body:JSON.stringify(x)});case 7:w=e.sent,(0,o.E1)(w,(function(){return u(t,n,i,c,d,h,v)}),t).then(function(){var e=(0,r.Z)(l().mark((function e(n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Ok"!==n){e.next=6;break}return e.next=3,w.json();case 3:return r=e.sent,s(t,r),e.abrupt("return",v.push("/post/".concat(c,"?id=").concat(r.article._id)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),(0,a.cz)(t,{error:!0,errorMassage:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u043d\u0435\u043d\u043d\u044b"},"error");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function v(e,t,n,r){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(l().mark((function e(t,n,r,i){var c,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/delete/post/".concat(n,"?id=").concat(r),{method:"POST",headers:{Authorization:null!==(c=(0,o.$o)("accessToken"))&&void 0!==c?c:""}});case 2:return s=e.sent,e.next=5,(0,o.E1)(s,(function(){return v(t,n,r,i)}),t);case 5:"Ok"===e.sent&&((0,a.cz)(t,{error:!0,errorMassage:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0443\u0434\u0430\u043b\u0435\u043d"},"success"),setTimeout((function(){return i.push("/post/".concat(n,"?id=0"))}),1e3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n){if(t){var r=t.blocks,i=!1,l=!1,o=JSON.parse(JSON.stringify(t));n===t.blocks[0].text||(o.blocks=r.filter((function(e){var t=e.type,r=e.text;return!(r!==n&&!l)&&(r===n?(l=!0,!0):!i&&"header-two"!==t||"header-two"===t&&(i=!0,!1))}))),e({type:c.M.FILTER_NAVIGATION_PARAGRAPH,payload:o})}}function f(e,t){e({type:c.M.SELECT_STATUS_EDITOR_TEXT,payload:t})}},3522:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-text",function(){return n(1247)}])},8625:function(e){e.exports={wrepper:"paragraphWrap_wrepper__2d3S3"}},7311:function(e){e.exports={wrap:"TableWrap_wrap__3cur4",row:"TableWrap_row__3aFn8",two:"TableWrap_two__1F3_8",three:"TableWrap_three__1a-1x",four:"TableWrap_four__3GCXp",five:"TableWrap_five__2Dfhz",six:"TableWrap_six__f9nMO"}},1693:function(e){e.exports={editWrapper:"editorText_editWrapper__3hVvw",font:"editorText_font__E3Kaf",toolBar:"editorText_toolBar__30ua-",fontTitle:"editorText_fontTitle__Djjjg",editor:"editorText_editor__3DKR5"}},4997:function(e){e.exports={wrepper:"editorSvg_wrepper__3LraU"}}},function(e){e.O(0,[824,938,817,914,774,888,179],(function(){return t=3522,e(e.s=t);var t}));var t=e.O();_N_E=t}]);