(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{3060:function(e,r,n){"use strict";n(7294);var t=n(2783),a=n.n(t),s=n(442),c=n(5893);r.Z=function(e){return e.alert.alertStart?(0,c.jsx)("div",{className:a().alertWrapper,children:(0,c.jsx)("div",{className:a().alertContent,children:(0,c.jsx)(s.Z,{severity:e.alert.alertType,children:e.alert.alertMassage})})}):null}},7465:function(e,r,n){"use strict";n(7294);var t=n(7798),a=n.n(t),s=n(5893);r.Z=function(e){return(0,s.jsx)("div",{className:a().footerContainer,children:(0,s.jsx)("footer",{})})}},6787:function(e,r,n){"use strict";n.d(r,{Z:function(){return f}});var t=n(7294),a=n(371),s=n.n(a),c=n(1664),i=n(8216),u=n(5893),o=function(e){var r=(0,i.v9)((function(e){return{dirName:e.textReducer.dirName}})).dirName,n=(0,t.useState)([s().activeLink,"","","",""]),a=n[0],o=n[1];return(0,t.useEffect)((function(){!function(){switch(r){case null:o([s().activeLink,"","","",""]);break;case"story":o(["",s().activeLink,"","",""]);break;case"society":o(["","",s().activeLink,"",""]);break;case"jurisprudence":o(["","","",s().activeLink,""]);break;case"economy":o(["","","","",s().activeLink])}}()}),[r]),(0,u.jsx)("div",{className:s().wrepper,children:(0,u.jsx)("div",{className:s().container,children:(0,u.jsx)("nav",{children:(0,u.jsxs)("ul",{children:[(0,u.jsx)(c.default,{href:"/",children:(0,u.jsxs)("a",{className:a[0],children:[(0,u.jsx)("li",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),(0,u.jsx)("span",{})]})}),(0,u.jsx)(c.default,{href:"/post/story?id=0",children:(0,u.jsxs)("a",{className:a[1],children:[(0,u.jsx)("li",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),(0,u.jsx)("span",{})]})}),(0,u.jsx)(c.default,{href:"/post/society?id=0",children:(0,u.jsxs)("a",{className:a[2],children:[(0,u.jsx)("li",{children:"\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"}),(0,u.jsx)("span",{})]})}),(0,u.jsx)(c.default,{href:"/post/jurisprudence?id=0",children:(0,u.jsxs)("a",{className:a[3],children:[(0,u.jsx)("li",{children:"\u041f\u0440\u0430\u0432\u043e"}),(0,u.jsx)("span",{})]})}),(0,u.jsx)(c.default,{href:"/post/economy?id=0",children:(0,u.jsxs)("a",{className:a[4],children:[(0,u.jsx)("li",{children:"\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430"}),(0,u.jsx)("span",{})]})})]})})})})},p=n(7465),l=n(3060),f=function(e){var r=e.children,n=(0,i.v9)((function(e){return{alert:e.homePageReducer.alert}})).alert;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("main",{children:[(0,u.jsx)(o,{}),(0,u.jsx)(l.Z,{alert:n}),r,(0,u.jsx)(p.Z,{})]})})}},9350:function(e,r,n){"use strict";n.d(r,{G7:function(){return p},BD:function(){return l},To:function(){return f},gJ:function(){return d},cz:function(){return h},qk:function(){return x},Av:function(){return k},kS:function(){return _}});var t=n(5861),a=n(7757),s=n.n(a),c=n(1283),i=n.n(c),u=n(908),o=n(8393);function p(e){e({type:u.M.OPEN_WINDOW_REGISTER})}function l(e,r){switch(r){case"\u0432\u0445\u043e\u0434":e({type:u.M.SWITCHING_WINDOW_REGISTER,payload:"\u0432\u0445\u043e\u0434"});break;case"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":e({type:u.M.SWITCHING_WINDOW_REGISTER,payload:"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}}function f(e,r,n){var t=new(i());switch(n){case"email":var a=t.check(r,"required|email");e({type:u.M.REGISTER_INPUT_EMAIL_VALIDATION,payload:{resultEmail:!a,inputValue:r}});break;case"password":var s=t.check(r,"required|min:6");e({type:u.M.REGISTER_INPUT_PASSWORD_VALIDATION,payload:{resultPassword:!s,inputValue:r}})}}function d(e,r){e({type:u.M.LOADER_ON_OFF,payload:r})}function h(e,r,n){e({type:u.M.LOGIN_ERROR,payload:{error:r.error,errorMassage:r.errorMassage,alertType:n}}),setTimeout((function(){return e({type:u.M.RESET_LOGIN_ERROR})}),4e3)}function x(e,r,n,t,a,s){return v.apply(this,arguments)}function v(){return(v=(0,t.Z)(s().mark((function e(r,n,t,a,c,i){var p,l,f,x,v,k;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p="login",n||t){e.next=29;break}return"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"===i&&(p="register"),l={email:a,password:c},d(r,!0),r({type:u.M.CLOSE_REGISTER_WINDOW}),e.next=8,fetch("/api/".concat(p),{method:"POST",body:JSON.stringify(l),headers:{"Content-type":"application/json"}});case 8:if(200!==(f=e.sent).status&&201!==f.status){e.next=17;break}return e.next=12,f.json();case 12:x=e.sent,d(r,!1),(0,o.nL)("accessToken",x.accessToken),r({type:u.M.INIT_USER,payload:x}),201===f.status&&h(r,{error:!0,errorMassage:"\u0441\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u0430 \u043d\u0430 email"},"warning");case 17:if(403!==f.status){e.next=23;break}return e.next=20,f.json();case 20:v=e.sent,d(r,!1),h(r,v,"error");case 23:if(404!==f.status){e.next=29;break}return e.next=26,f.json();case 26:k=e.sent,d(r,!1),h(r,k,"error");case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e,r){e({type:u.M.OPEN_WINDOW_MINI_PROFILE,payload:!r})};function _(e){return y.apply(this,arguments)}function y(){return(y=(0,t.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/logout");case 2:200===e.sent.status&&r({type:u.M.RESTART_STATE});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8393:function(e,r,n){"use strict";n.d(r,{nL:function(){return i},$o:function(){return u},jM:function(){return o},kB:function(){return h},gR:function(){return v},E1:function(){return k}});var t=n(5861),a=n(7757),s=n.n(a),c=n(9350);function i(e,r){return localStorage.setItem(e,r),localStorage.getItem(e)===r}function u(e){var r=localStorage.getItem(e);return r||null}function o(){return p.apply(this,arguments)}function p(){return(p=(0,t.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/token/update");case 3:if(307!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",f(r));case 8:if(200!==r.status){e.next=12;break}return e.abrupt("return",l(r));case 12:return e.abrupt("return",d(r));case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}var l=function(){var e=(0,t.Z)(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.json();case 2:if(!("accessToken"in(n=e.sent))){e.next=9;break}return i("accessToken",n.accessToken),e.abrupt("return",n);case 9:return e.abrupt("return",{error:!0,errorMassage:"\u0442\u043e\u043a\u0435\u043d \u043d\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d"});case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function h(e,r,n,t){return x.apply(this,arguments)}function x(){return(x=(0,t.Z)(s().mark((function e(r,n,t,a){var c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new FormData,n.forEach((function(e,r){return c.append(t[r],e)})),e.next=4,fetch(r,{method:"POST",body:c,headers:{Authorization:a}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,r){return r?"".concat(e,"?fileName=").concat(r):void 0}function k(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(){var a=(0,t.Z)(s().mark((function t(a,u){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.status,t.next=401===t.t0?3:403===t.t0?5:500===t.t0?7:200===t.t0?9:11;break;case 3:return o().then((function(e){e&&("accessToken"in e&&(i("accessToken",e.accessToken),r()))})).catch((function(e){return u(e)})),t.abrupt("break",11);case 5:return n&&(0,c.cz)(n,{error:!0,errorMassage:"\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043d"},"error"),t.abrupt("break",11);case 7:return n&&(0,c.cz)(n,{error:!0,errorMassage:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"},"error"),t.abrupt("break",11);case 9:return a("Ok"),t.abrupt("break",11);case 11:case"end":return t.stop()}}),t)})));return function(e,r){return a.apply(this,arguments)}}())}},2783:function(e){e.exports={alertWrapper:"Alert_alertWrapper__3C2Qc",alertContent:"Alert_alertContent__3iwvX",animal:"Alert_animal__1lKYB"}},7798:function(e){e.exports={footerContainer:"footer_footerContainer__3iT40"}},371:function(e){e.exports={wrepper:"MiniNavigation_wrepper__15Dqq",activeLink:"MiniNavigation_activeLink__2nTd0",none:"MiniNavigation_none__2H07q",container:"MiniNavigation_container__EERlF"}}}]);